/*! For license information please see fast-json-patch.min.js.LICENSE.txt */
var jsonpatch;(()=>{var e={237:(e,t,r)=>{var o=r(901);Object.assign(t,o);var n=r(828);Object.assign(t,n);var a=r(969);t.JsonPatchError=a.PatchError,t.deepClone=a._deepClone,t.escapePathComponent=a.escapePathComponent,t.unescapePathComponent=a.unescapePathComponent},828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unobserve=function(e,t){t.unobserve()},t.observe=function(e,t){var r,n=function(e){return a.get(e)}(e);if(n){var c=function(e,t){return e.observers.get(t)}(n,t);r=c&&c.observer}else n=new i(e),a.set(e,n);if(r)return r;if(r={},n.value=(0,o._deepClone)(e),t){r.callback=t,r.next=null;var u=function(){s(r)},f=function(){clearTimeout(r.next),r.next=setTimeout(u)};"undefined"!=typeof window&&(window.addEventListener("mouseup",f),window.addEventListener("keyup",f),window.addEventListener("mousedown",f),window.addEventListener("keydown",f),window.addEventListener("change",f))}return r.patches=[],r.object=e,r.unobserve=function(){s(r),clearTimeout(r.next),function(e,t){e.observers.delete(t.callback)}(n,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",f),window.removeEventListener("keyup",f),window.removeEventListener("mousedown",f),window.removeEventListener("keydown",f),window.removeEventListener("change",f))},n.observers.set(t,new p(t,r)),r},t.generate=s,t.compare=function(e,t,r){void 0===r&&(r=!1);var o=[];return c(e,t,o,"",r),o};var o=r(969),n=r(901),a=new WeakMap,i=function(e){this.observers=new Map,this.obj=e},p=function(e,t){this.callback=e,this.observer=t};function s(e,t){void 0===t&&(t=!1);var r=a.get(e.object);c(r.value,e.object,e.patches,"",t),e.patches.length&&(0,n.applyPatch)(r.value,e.patches);var o=e.patches;return o.length>0&&(e.patches=[],e.callback&&e.callback(o)),o}function c(e,t,r,n,a){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var i=(0,o._objectKeys)(t),p=(0,o._objectKeys)(e),s=!1,u=p.length-1;u>=0;u--){var f=e[l=p[u]];if(!(0,o.hasOwnProperty)(t,l)||void 0===t[l]&&void 0!==f&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(a&&r.push({op:"test",path:n+"/"+(0,o.escapePathComponent)(l),value:(0,o._deepClone)(f)}),r.push({op:"remove",path:n+"/"+(0,o.escapePathComponent)(l)}),s=!0):(a&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}));else{var h=t[l];"object"==typeof f&&null!=f&&"object"==typeof h&&null!=h&&Array.isArray(f)===Array.isArray(h)?c(f,h,r,n+"/"+(0,o.escapePathComponent)(l),a):f!==h&&(a&&r.push({op:"test",path:n+"/"+(0,o.escapePathComponent)(l),value:(0,o._deepClone)(f)}),r.push({op:"replace",path:n+"/"+(0,o.escapePathComponent)(l),value:(0,o._deepClone)(h)}))}}if(s||i.length!=p.length)for(u=0;u<i.length;u++){var l=i[u];(0,o.hasOwnProperty)(e,l)||void 0===t[l]||r.push({op:"add",path:n+"/"+(0,o.escapePathComponent)(l),value:(0,o._deepClone)(t[l])})}}}},901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepClone=t.JsonPatchError=void 0,t.getValueByPointer=i,t.applyOperation=p,t.applyPatch=s,t.applyReducer=function(e,r,o){var n=p(e,r);if(!1===n.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",o,r,e);return n.newDocument},t.validator=c,t.validate=u,t._areEquals=f;var o=r(969);t.JsonPatchError=o.PatchError,t.deepClone=o._deepClone;var n={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var o=e[t];return delete e[t],{newDocument:r,removed:o}},replace:function(e,t,r){var o=e[t];return e[t]=this.value,{newDocument:r,removed:o}},move:function(e,r,n){var a=i(n,this.path);if(this.from!==this.path&&this.path.startsWith(this.from+"/"))throw new t.JsonPatchError("Cannot move to a path that is a descendant of the source","OPERATION_PATH_CREATES_CIRCULAR_REFERENCE",0,this,n);a&&(a=(0,o._deepClone)(a));var s=p(n,{op:"remove",path:this.from}).removed;return p(n,{op:"add",path:this.path,value:s}),{newDocument:n,removed:a}},copy:function(e,r,n){var a=i(n,this.from);if((""===this.from||"/"===this.from)&&this.path.startsWith("/"))throw new t.JsonPatchError("Creating a circular reference","OPERATION_PATH_CREATES_CIRCULAR_REFERENCE",0,this,n);return p(n,{op:"add",path:this.path,value:(0,o._deepClone)(a)}),{newDocument:n}},test:function(e,t,r){return{newDocument:r,test:f(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},a={add:function(e,t,r){return(0,o.isInteger)(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var o=e[t];return e[t]=this.value,{newDocument:r,removed:o}},move:n.move,copy:n.copy,test:n.test,_get:n._get};function i(e,t){if(""==t)return e;var r={op:"_get",path:t};return p(e,r),r.value}function p(e,r,p,s,u,h,l){if(void 0===p&&(p=!1),void 0===s&&(s=!0),void 0===u&&(u=!0),void 0===h&&(h=0),p&&("function"==typeof p?p(r,0,e,r.path):c(r,0)),""===r.path){var d={newDocument:e};if("add"===r.op)return d.newDocument=r.value,d;if("replace"===r.op)return d.newDocument=r.value,d.removed=e,d;if("move"===r.op||"copy"===r.op)return d.newDocument=i(e,r.from),"move"===r.op&&(d.removed=e),d;if("test"===r.op){if(d.test=f(e,r.value),!1===d.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",h,r,e);return d.newDocument=e,d}if("remove"===r.op)return d.removed=e,d.newDocument=null,d;if("_get"===r.op)return r.value=e,d;if(p)throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",h,r,e);return d}s||(e=(0,o._deepClone)(e));var v=(r.path||"").split("/"),E=e,_=1,w=v.length,y=void 0,O=void 0,A=void 0;for(A="function"==typeof p?p:c;;){if((O=v[_])&&-1!=O.indexOf("~")&&(O=(0,o.unescapePathComponent)(O)),u&&("__proto__"==O||"prototype"==O&&_>0&&"constructor"==v[_-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(p&&void 0===y&&(void 0===E[O]?y=v.slice(0,_).join("/"):_==w-1&&(y=r.path),void 0!==y&&A(r,0,e,y)),_++,Array.isArray(E)){if("-"===O)O=E.length;else{if(p&&!(0,o.isInteger)(O))throw new t.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",h,r,e);if((0,o.isInteger)(O)){if(p&&O.length>15)throw new t.JsonPatchError("Array index too large","OPERATION_PATH_ARRAY_INDEX_TOO_LARGE",h,r,e);O=~~O}}if(p&&"number"==typeof O&&O>Number.MAX_SAFE_INTEGER)throw new t.JsonPatchError("Array index too large","OPERATION_PATH_ARRAY_INDEX_TOO_LARGE",h,r,e);if(_>=w){if(p&&"add"===r.op&&"number"==typeof O&&O>E.length)throw new t.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",h,r,e);if(!1===(d=a[r.op].call(r,E,O,e)).test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",h,r,e);return d}}else if(_>=w){if(!1===(d=n[r.op].call(r,E,O,e)).test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",h,r,e);return d}if(void 0===E[O]&&l)if("function"==typeof l)E[O]=l(E,r,O);else{var P=v[_];P&&(0,o.isInteger)(P)&&parseInt(P)>=0?E[O]=[]:E[O]={}}if(E=E[O],p&&_<w&&(!E||"object"!=typeof E))throw new t.JsonPatchError("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",h,r,e)}}function s(e,r,n,a,i){if(void 0===a&&(a=!0),void 0===i&&(i=!0),n&&!Array.isArray(r))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");a||(e=(0,o._deepClone)(e));for(var s=new Array(r.length),c=0,u=r.length;c<u;c++)s[c]=p(e,r[c],n,!0,i,c),e=s[c].newDocument;return s.newDocument=e,s}function c(e,r,a,i){if("object"!=typeof e||null===e||Array.isArray(e))throw new t.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",r,e,a);if(!n[e.op])throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",r,e,a);if("string"!=typeof e.path)throw new t.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",r,e,a);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new t.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",r,e,a);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new t.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",r,e,a);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",r,e,a);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&(0,o.hasUndefined)(e.value))throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",r,e,a);if(a)if("add"==e.op){var p=e.path.split("/").length,s=i.split("/").length;if(p!==s+1&&p!==s)throw new t.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",r,e,a)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==i)throw new t.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",r,e,a)}else if("move"===e.op||"copy"===e.op){var c=u([{op:"_get",path:e.from,value:void 0}],a);if(c&&"OPERATION_PATH_UNRESOLVABLE"===c.name)throw new t.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",r,e,a)}}function u(e,r,n){try{if(!Array.isArray(e))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(r)s((0,o._deepClone)(r),(0,o._deepClone)(e),n||!0);else{n=n||c;for(var a=0;a<e.length;a++)n(e[a],a,r,void 0)}}catch(e){if(e instanceof t.JsonPatchError)return e;throw e}}function f(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,o,n,a=Array.isArray(e),i=Array.isArray(t);if(a&&i){if((o=e.length)!=t.length)return!1;for(r=o;0!=r--;)if(!f(e[r],t[r]))return!1;return!0}if(a!=i)return!1;var p=Object.keys(e);if((o=p.length)!==Object.keys(t).length)return!1;for(r=o;0!=r--;)if(!t.hasOwnProperty(p[r]))return!1;for(r=o;0!=r--;)if(!f(e[n=p[r]],t[n]))return!1;return!0}return e!=e&&t!=t}},969:function(e,t){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.PatchError=void 0,t.hasOwnProperty=a,t._objectKeys=i,t._deepClone=function(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}},t.isInteger=function(e){for(var t,r=0,o=e.length;r<o;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0},t.escapePathComponent=p,t.unescapePathComponent=function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")},t._getPathRecursive=s,t.getPath=function(e,t){if(e===t)return"/";var r=s(e,t);if(""===r)throw new Error("Object not found in root");return"/".concat(r)},t.hasUndefined=function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var r=0,o=t.length;r<o;r++)if(e(t[r]))return!0}else if("object"==typeof t)for(var n=i(t),a=n.length,p=0;p<a;p++)if(e(t[n[p]]))return!0;return!1};var n=Object.prototype.hasOwnProperty;function a(e,t){return n.call(e,t)}function i(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);var o=[];for(var n in e)a(e,n)&&o.push(n);return o}function p(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function s(e,t){var r;for(var o in e)if(a(e,o)){if(e[o]===t)return p(o)+"/";if("object"==typeof e[o]&&""!=(r=s(e[o],t)))return p(o)+"/"+r}return""}function c(e,t){var r=[e];for(var o in t){var n="object"==typeof t[o]?JSON.stringify(t[o],null,2):t[o];void 0!==n&&r.push("".concat(o,": ").concat(n))}return r.join("\n")}var u=function(e){function t(t,r,o,n,a){var i=this.constructor,p=e.call(this,c(t,{name:r,index:o,operation:n,tree:a}))||this;return p.name=r,p.index=o,p.operation=n,p.tree=a,Object.setPrototypeOf(p,i.prototype),p.message=c(t,{name:r,index:o,operation:n,tree:a}),p}return o(t,e),t}(Error);t.PatchError=u}},t={},r=function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,r),a.exports}(237);jsonpatch=r})();